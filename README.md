# Инструкция

### Установка зависимостей

`npm install`

### Запуск разработки

`npm run dev`

# Архитектура

Выделен корневой компонент с роутингом и навигацией по страницам.
Каждая страница выделена в отедльную и находиятся в папке pages.

Отдельные сущности выделены компоненты, некоторые из которых переиспользуются. Отдельно выделены: Loader, модальное окно, кнопка Button, отображение статистики и элемент статистики.

Выделено два стора. Первый используется для обработки аналитики файла. Второй для работы с историей.

Отдельно хранятся константы, взаимодействие с API, хелперы в utils.

Используются модульные стили под каждый компонент и блок с основными стилями для проекта

Все используемые иконки хранятся в assets

# Тестирование

Покрытие тестами с использованием Vitest, React Testing Library и Playwright.

### app.test.tsx

- Отображение навигационных ссылок
- Переключение между страницами
- Обработка несуществующих маршрутов
- Корректная работа роутинга

### analytic.test.tsx

- Начальное состояние страницы аналитики
- Drag & Drop функциональность
- Смена фона при drag & drop
- Загрузка файлов через input
- Отображение загруженного файла
- Состояния загрузки
- Очистка файла

### generate.test.tsx

- Начальное состояние страницы генерации
- Генерация файла
- Обработка успешной генерации
- Обработка ошибок при генерации
- Очистка состояния

### history.test.tsx

- Отображение пустой истории
- Отображение списка записей
- Навигация к странице генерации
- Очистка всей истории
- Удаление отдельных записей
- Открытие модального окна с деталями успешной записи
- Закрытие модального окна
- Обработка неуспешных записей

### file.test.ts

- Инициализация состояния
- Добавление файла в стор
- Очистка файла и сброс состояния
- Управление состоянием
- Управление статистикой
- Взаимодействие между состояниями

### stats.test.tsx

- Отображение пустой статистики
- Отображение данных статистики
- Обновление статистики в реальном времени

### utils.test.ts

- Форматирование даты DD.MM.YY
- Добавление нулей к числам
- Преобразование дня года в нужную дату

### e2e

- Скачивание файла после генерации

Для запуска e2e тестов необходимо запустить бэкенд сервер на `http://localhost:3000`

### Запуск тестов

Юнит тесты

`npm run test`

E2E тесты

`npm run test:e2e`
